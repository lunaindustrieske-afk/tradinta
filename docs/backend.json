
{
  "entities": {
    "Manufacturer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Manufacturer",
      "type": "object",
      "description": "Represents a manufacturer on the Tradinta platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the manufacturer entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the manufacturing company."
        },
        "description": {
          "type": "string",
          "description": "Description of the manufacturer and their products."
        },
        "email": {
          "type": "string",
          "description": "Email address of the manufacturer.",
          "format": "email"
        },
        "phone": {
          "type": "string",
          "description": "Phone number of the manufacturer."
        },
        "address": {
          "type": "string",
          "description": "Physical address of the manufacturer."
        },
        "shopId": {
          "type": "string",
          "description": "Reference to Shop. (Relationship: Manufacturer 1:1 Shop)"
        },
        "suspensionDetails": {
          "type": "object",
          "description": "Details regarding the suspension of a shop.",
          "properties": {
            "isSuspended": {
              "type": "boolean",
              "description": "Whether the shop is currently suspended."
            },
            "reason": {
              "type": "string",
              "description": "The reason for the suspension."
            },
            "prohibitions": {
              "type": "array",
              "description": "Specific actions the seller is prohibited from doing.",
              "items": {
                "type": "string"
              }
            },
            "publicDisclaimer": {
              "type": "boolean",
              "description": "If true, a disclaimer is shown on the public profile."
            }
          }
        },
        "rating": {
          "type": "number"
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "email",
        "phone",
        "address",
        "shopId"
      ]
    },
    "Buyer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Buyer",
      "type": "object",
      "description": "Represents a buyer on the Tradinta platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the buyer entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the buyer (company or individual)."
        },
        "email": {
          "type": "string",
          "description": "Email address of the buyer.",
          "format": "email"
        },
        "phone": {
          "type": "string",
          "description": "Phone number of the buyer."
        },
        "address": {
          "type": "string",
          "description": "Physical address of the buyer."
        }
      },
      "required": [
        "id",
        "name",
        "email",
        "phone",
        "address"
      ]
    },
    "Product": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Product",
      "type": "object",
      "description": "Represents a product listed on the Tradinta marketplace.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the product entity."
        },
        "shopId": {
          "type": "string",
          "description": "Reference to Shop. (Relationship: Shop 1:N Product)"
        },
        "name": {
          "type": "string",
          "description": "Name of the product."
        },
        "description": {
          "type": "string",
          "description": "Description of the product."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the product image.",
          "format": "uri"
        },
        "tags": {
          "type": "array",
          "description": "Array of product tags",
          "items": {
            "type": "string"
          }
        },
        "options": {
          "type": "array",
          "description": "Defines the types of variants, e.g., ['Size', 'Color']",
          "items": {
            "type": "string"
          }
        },
        "variants": {
          "type": "array",
          "description": "List of all product variants.",
          "items": {
            "$ref": "#/backend/entities/ProductVariant"
          }
        },
        "material": {
            "type": "string"
        },
        "certifications": {
            "type": "string"
        },
        "packagingDetails": {
            "type": "string"
        },
        "rating": {
            "type": "number"
        },
        "reviewCount": {
            "type": "number"
        }
      },
      "required": [
        "id",
        "shopId",
        "name",
        "description",
        "imageUrl"
      ]
    },
    "ProductVariant": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ProductVariant",
      "type": "object",
      "description": "Represents a specific version of a product (e.g., size, color).",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the variant."
        },
        "price": {
          "type": "number",
          "description": "Price of this specific variant."
        },
        "stock": {
          "type": "number",
          "description": "Inventory count for this specific variant."
        },
        "sku": {
          "type": "string",
          "description": "Stock Keeping Unit for this variant."
        },
        "attributes": {
          "type": "object",
          "description": "Key-value pairs for the variant options, e.g., {'Size': 'Large', 'Color': 'Red'}.",
          "additionalProperties": {
            "type": "string"
          }
        },
        "weight": {
          "type": "object",
          "description": "Weight of this specific variant.",
          "properties": {
            "value": { "type": "number" },
            "unit": { "type": "string", "enum": ["g", "kg", "lb", "oz"] }
          }
        },
        "dimensions": {
          "type": "object",
          "description": "Dimensions of this specific variant.",
          "properties": {
            "length": { "type": "number" },
            "width": { "type": "number" },
            "height": { "type": "number" },
            "unit": { "type": "string", "enum": ["cm", "in", "m"] }
          }
        }
      },
      "required": ["id", "price", "stock", "attributes"]
    },
    "Order": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Order",
      "type": "object",
      "description": "Represents an order placed on the Tradinta platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the order entity."
        },
        "buyerId": {
          "type": "string",
          "description": "Reference to Buyer. (Relationship: Buyer 1:N Order)"
        },
        "shopId": {
          "type": "string",
          "description": "Reference to Shop. (Relationship: Shop 1:N Order)"
        },
        "orderDate": {
          "type": "string",
          "description": "Date and time the order was placed.",
          "format": "date-time"
        },
        "totalAmount": {
          "type": "number",
          "description": "Total amount of the order."
        },
        "status": {
          "type": "string",
          "description": "Current status of the order (e.g., pending, processing, shipped, delivered)."
        },
        "orderItemIds": {
          "type": "array",
          "description": "References to OrderItems. (Relationship: Order 1:N OrderItem)",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "id",
        "buyerId",
        "shopId",
        "orderDate",
        "totalAmount",
        "status",
        "orderItemIds"
      ]
    },
    "OrderItem": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "OrderItem",
      "type": "object",
      "description": "Represents a specific item within an order.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the order item entity."
        },
        "orderId": {
          "type": "string",
          "description": "Reference to Order. (Relationship: Order 1:N OrderItem)"
        },
        "productId": {
          "type": "string",
          "description": "Reference to Product. (Relationship: Product 1:N OrderItem)"
        },
        "quantity": {
          "type": "number",
          "description": "Quantity of the product ordered."
        },
        "unitPrice": {
          "type": "number",
          "description": "Price of a single unit of the product."
        }
      },
      "required": [
        "id",
        "orderId",
        "productId",
        "quantity",
        "unitPrice"
      ]
    },
    "Shop": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Shop",
      "type": "object",
      "description": "Represents a manufacturer's shop on the Tradinta platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the shop entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the shop."
        },
        "description": {
          "type": "string",
          "description": "Description of the shop."
        },
        "manufacturerId": {
          "type": "string",
          "description": "Reference to Manufacturer. (Relationship: Manufacturer 1:1 Shop)"
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "manufacturerId"
      ]
    },
    "Payment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Payment",
      "type": "object",
      "description": "Represents a payment made through TradPay.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the payment entity."
        },
        "orderId": {
          "type": "string",
          "description": "Reference to Order. (Relationship: Order 1:1 Payment)"
        },
        "paymentDate": {
          "type": "string",
          "description": "Date and time the payment was made.",
          "format": "date-time"
        },
        "amount": {
          "type": "number",
          "description": "Amount of the payment."
        },
        "paymentMethod": {
          "type": "string",
          "description": "Method of payment used (e.g., M-Pesa, card)."
        },
        "transactionId": {
          "type": "string",
          "description": "Transaction ID from the payment gateway."
        },
        "status": {
          "type": "string",
          "description": "Status of the payment (e.g., pending, completed, failed)."
        }
      },
      "required": [
        "id",
        "orderId",
        "paymentDate",
        "amount",
        "paymentMethod",
        "transactionId",
        "status"
      ]
    },
    "MarketingCampaign": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "MarketingCampaign",
      "type": "object",
      "description": "Represents a marketing campaign run by a manufacturer.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the marketing campaign entity."
        },
        "shopId": {
          "type": "string",
          "description": "Reference to Shop. (Relationship: Shop 1:N MarketingCampaign)"
        },
        "name": {
          "type": "string",
          "description": "Name of the marketing campaign."
        },
        "startDate": {
          "type": "string",
          "description": "Start date of the campaign.",
          "format": "date-time"
        },
        "endDate": {
          "type": "string",
          "description": "End date of the campaign.",
          "format": "date-time"
        },
        "discountPercentage": {
          "type": "number",
          "description": "Discount percentage offered during the campaign."
        },
        "description": {
          "type": "string",
          "description": "Description of the marketing campaign."
        }
      },
      "required": [
        "id",
        "shopId",
        "name",
        "startDate",
        "endDate",
        "discountPercentage",
        "description"
      ]
    },
    "GrowthPartnerCampaign": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "GrowthPartnerCampaign",
      "type": "object",
      "description": "Represents a specific promotional campaign linking a Growth Partner to a Manufacturer.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique ID for the campaign."
        },
        "name": {
          "type": "string",
          "description": "Name of the campaign."
        },
        "partnerId": {
          "type": "string",
          "description": "The UID of the Growth Partner."
        },
        "manufacturerId": {
          "type": "string",
          "description": "The UID of the Manufacturer."
        },
        "trackingCode": {
          "type": "string",
          "description": "Unique code for this partner-manufacturer link."
        },
        "commissionRate": {
          "type": "number",
          "description": "Commission percentage (e.g., 5 for 5%)."
        },
        "status": {
          "type": "string",
          "enum": [
            "Active",
            "Paused",
            "Finished"
          ]
        }
      },
      "required": [
        "id",
        "name",
        "partnerId",
        "manufacturerId",
        "trackingCode",
        "commissionRate",
        "status"
      ]
    },
    "AttributedSale": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "AttributedSale",
      "type": "object",
      "description": "Logs a sale attributed to a Growth Partner.",
      "properties": {
        "id": {
          "type": "string"
        },
        "orderId": {
          "type": "string",
          "description": "The original order ID."
        },
        "partnerId": {
          "type": "string",
          "description": "The UID of the Growth Partner."
        },
        "campaignId": {
          "type": "string",
          "description": "The campaign this sale is attributed to."
        },
        "saleAmount": {
          "type": "number"
        },
        "commissionEarned": {
          "type": "number"
        },
        "date": {
          "type": "string",
          "format": "date-time"
        },
        "payoutStatus": {
          "type": "string",
          "enum": [
            "Unpaid",
            "Paid"
          ]
        }
      },
      "required": [
        "id",
        "orderId",
        "partnerId",
        "campaignId",
        "saleAmount",
        "commissionEarned",
        "date",
        "payoutStatus"
      ]
    },
    "PartnerEarning": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "PartnerEarning",
      "type": "object",
      "description": "Aggregates a Growth Partner's earnings.",
      "properties": {
        "id": {
          "type": "string"
        },
        "partnerId": {
          "type": "string"
        },
        "totalEarnings": {
          "type": "number"
        },
        "paidEarnings": {
          "type": "number"
        },
        "unpaidEarnings": {
          "type": "number"
        }
      },
      "required": [
        "id",
        "partnerId",
        "totalEarnings",
        "paidEarnings",
        "unpaidEarnings"
      ]
    },
    "Quotation": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Quotation",
      "type": "object",
      "description": "Represents a Request for Quotation (RFQ) from a buyer to a seller.",
      "properties": {
        "id": { "type": "string" },
        "buyerId": { "type": "string" },
        "buyerName": { "type": "string" },
        "sellerId": { "type": "string" },
        "productId": { "type": "string" },
        "productName": { "type": "string" },
        "quantity": { "type": "number" },
        "message": { "type": "string" },
        "deliveryDate": { "type": "string", "format": "date" },
        "status": { "type": "string", "enum": ["New", "Responded", "Accepted", "Archived"] },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": [ "id", "buyerId", "sellerId", "productId", "productName", "quantity", "status", "createdAt" ]
    },
    "Review": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Review",
      "type": "object",
      "description": "Represents a product review submitted by a buyer.",
      "properties": {
        "id": { "type": "string" },
        "productId": { "type": "string" },
        "manufacturerId": { "type": "string" },
        "buyerId": { "type": "string" },
        "buyerName": { "type": "string" },
        "buyerAvatar": { "type": "string", "format": "uri" },
        "rating": { "type": "number", "minimum": 1, "maximum": 5 },
        "comment": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["pending", "approved", "rejected"] }
      },
      "required": [ "id", "productId", "manufacturerId", "buyerId", "buyerName", "rating", "comment", "createdAt", "status" ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/manufacturers/{manufacturerId}",
        "definition": {
          "entityName": "Manufacturer",
          "schema": {
            "$ref": "#/backend/entities/Manufacturer"
          },
          "description": "Stores manufacturer profiles."
        }
      },
      {
        "path": "/buyers/{buyerId}",
        "definition": {
          "entityName": "Buyer",
          "schema": {
            "$ref": "#/backend/entities/Buyer"
          },
          "description": "Stores buyer profiles."
        }
      },
      {
        "path": "/shops/{shopId}",
        "definition": {
          "entityName": "Shop",
          "schema": {
            "$ref": "#/backend/entities/Shop"
          },
          "description": "Stores shop profiles."
        }
      },
      {
        "path": "/shops/{shopId}/products/{productId}",
        "definition": {
          "entityName": "Product",
          "schema": {
            "$ref": "#/backend/entities/Product"
          },
          "description": "Stores product listings for each shop."
        }
      },
      {
        "path": "/orders/{orderId}",
        "definition": {
          "entityName": "Order",
          "schema": {
            "$ref": "#/backend/entities/Order"
          },
          "description": "Stores order details."
        }
      },
      {
        "path": "/orders/{orderId}/orderItems/{orderItemId}",
        "definition": {
          "entityName": "OrderItem",
          "schema": {
            "$ref": "#/backend/entities/OrderItem"
          },
          "description": "Stores individual items within an order."
        }
      },
      {
        "path": "/payments/{paymentId}",
        "definition": {
          "entityName": "Payment",
          "schema": {
            "$ref": "#/backend/entities/Payment"
          },
          "description": "Stores payment details."
        }
      },
      {
        "path": "/shops/{shopId}/marketingCampaigns/{marketingCampaignId}",
        "definition": {
          "entityName": "MarketingCampaign",
          "schema": {
            "$ref": "#/backend/entities/MarketingCampaign"
          },
          "description": "Stores marketing campaigns for each shop."
        }
      },
      {
        "path": "/users/{userId}/growthPartnerCampaigns/{campaignId}",
        "definition": {
          "entityName": "GrowthPartnerCampaign",
          "schema": {
            "$ref": "#/backend/entities/GrowthPartnerCampaign"
          },
          "description": "Stores campaigns for Growth Partners, nested under the user for security."
        }
      },
      {
        "path": "/partners/{partnerId}/attributedSales/{saleId}",
        "definition": {
          "entityName": "AttributedSale",
          "schema": {
            "$ref": "#/backend/entities/AttributedSale"
          },
          "description": "Logs sales attributed to a specific partner."
        }
      },
      {
        "path": "/partnerEarnings/{partnerId}",
        "definition": {
          "entityName": "PartnerEarning",
          "schema": {
            "$ref": "#/backend/entities/PartnerEarning"
          },
          "description": "Aggregates earnings for each Growth Partner."
        }
      },
      {
        "path": "/manufacturers/{manufacturerId}/quotations/{quotationId}",
        "definition": {
            "entityName": "Quotation",
            "schema": {
                "$ref": "#/backend/entities/Quotation"
            },
            "description": "Stores RFQs for each manufacturer."
        }
      },
      {
        "path": "/reviews/{reviewId}",
        "definition": {
          "entityName": "Review",
          "schema": {
            "$ref": "#/backend/entities/Review"
          },
          "description": "Stores all product reviews. A collection group query on this will be needed."
        }
      }
    ]
  }
}

    