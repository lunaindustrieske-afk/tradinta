{
  "entities": {
    "Manufacturer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Manufacturer",
      "type": "object",
      "description": "Represents a manufacturer on the Tradinta platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the manufacturer entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the manufacturing company."
        },
        "description": {
          "type": "string",
          "description": "Description of the manufacturer and their products."
        },
        "email": {
          "type": "string",
          "description": "Email address of the manufacturer.",
          "format": "email"
        },
        "phone": {
          "type": "string",
          "description": "Phone number of the manufacturer."
        },
        "address": {
          "type": "string",
          "description": "Physical address of the manufacturer."
        },
        "shopId": {
          "type": "string",
          "description": "Reference to Shop. (Relationship: Manufacturer 1:1 Shop)"
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "email",
        "phone",
        "address",
        "shopId"
      ]
    },
    "Buyer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Buyer",
      "type": "object",
      "description": "Represents a buyer on the Tradinta platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the buyer entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the buyer (company or individual)."
        },
        "email": {
          "type": "string",
          "description": "Email address of the buyer.",
          "format": "email"
        },
        "phone": {
          "type": "string",
          "description": "Phone number of the buyer."
        },
        "address": {
          "type": "string",
          "description": "Physical address of the buyer."
        }
      },
      "required": [
        "id",
        "name",
        "email",
        "phone",
        "address"
      ]
    },
    "Product": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Product",
      "type": "object",
      "description": "Represents a product listed on the Tradinta marketplace.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the product entity."
        },
        "shopId": {
          "type": "string",
          "description": "Reference to Shop. (Relationship: Shop 1:N Product)"
        },
        "name": {
          "type": "string",
          "description": "Name of the product."
        },
        "description": {
          "type": "string",
          "description": "Description of the product."
        },
        "price": {
          "type": "number",
          "description": "Price of the product."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the product image.",
          "format": "uri"
        },
        "tags": {
          "type": "array",
          "description": "Array of product tags",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "id",
        "shopId",
        "name",
        "description",
        "price",
        "imageUrl"
      ]
    },
    "Order": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Order",
      "type": "object",
      "description": "Represents an order placed on the Tradinta platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the order entity."
        },
        "buyerId": {
          "type": "string",
          "description": "Reference to Buyer. (Relationship: Buyer 1:N Order)"
        },
        "shopId": {
          "type": "string",
          "description": "Reference to Shop. (Relationship: Shop 1:N Order)"
        },
        "orderDate": {
          "type": "string",
          "description": "Date and time the order was placed.",
          "format": "date-time"
        },
        "totalAmount": {
          "type": "number",
          "description": "Total amount of the order."
        },
        "status": {
          "type": "string",
          "description": "Current status of the order (e.g., pending, processing, shipped, delivered)."
        },
        "orderItemIds": {
          "type": "array",
          "description": "References to OrderItems. (Relationship: Order 1:N OrderItem)",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "id",
        "buyerId",
        "shopId",
        "orderDate",
        "totalAmount",
        "status",
        "orderItemIds"
      ]
    },
    "OrderItem": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "OrderItem",
      "type": "object",
      "description": "Represents a specific item within an order.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the order item entity."
        },
        "orderId": {
          "type": "string",
          "description": "Reference to Order. (Relationship: Order 1:N OrderItem)"
        },
        "productId": {
          "type": "string",
          "description": "Reference to Product. (Relationship: Product 1:N OrderItem)"
        },
        "quantity": {
          "type": "number",
          "description": "Quantity of the product ordered."
        },
        "unitPrice": {
          "type": "number",
          "description": "Price of a single unit of the product."
        }
      },
      "required": [
        "id",
        "orderId",
        "productId",
        "quantity",
        "unitPrice"
      ]
    },
    "Shop": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Shop",
      "type": "object",
      "description": "Represents a manufacturer's shop on the Tradinta platform.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the shop entity."
        },
        "name": {
          "type": "string",
          "description": "Name of the shop."
        },
        "description": {
          "type": "string",
          "description": "Description of the shop."
        },
        "manufacturerId": {
          "type": "string",
          "description": "Reference to Manufacturer. (Relationship: Manufacturer 1:1 Shop)"
        }
      },
      "required": [
        "id",
        "name",
        "description",
        "manufacturerId"
      ]
    },
    "Payment": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Payment",
      "type": "object",
      "description": "Represents a payment made through TradPay.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the payment entity."
        },
        "orderId": {
          "type": "string",
          "description": "Reference to Order. (Relationship: Order 1:1 Payment)"
        },
        "paymentDate": {
          "type": "string",
          "description": "Date and time the payment was made.",
          "format": "date-time"
        },
        "amount": {
          "type": "number",
          "description": "Amount of the payment."
        },
        "paymentMethod": {
          "type": "string",
          "description": "Method of payment used (e.g., M-Pesa, card)."
        },
        "transactionId": {
          "type": "string",
          "description": "Transaction ID from the payment gateway."
        },
        "status": {
          "type": "string",
          "description": "Status of the payment (e.g., pending, completed, failed)."
        }
      },
      "required": [
        "id",
        "orderId",
        "paymentDate",
        "amount",
        "paymentMethod",
        "transactionId",
        "status"
      ]
    },
    "MarketingCampaign": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "MarketingCampaign",
      "type": "object",
      "description": "Represents a marketing campaign run by a manufacturer.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the marketing campaign entity."
        },
        "shopId": {
          "type": "string",
          "description": "Reference to Shop. (Relationship: Shop 1:N MarketingCampaign)"
        },
        "name": {
          "type": "string",
          "description": "Name of the marketing campaign."
        },
        "startDate": {
          "type": "string",
          "description": "Start date of the campaign.",
          "format": "date-time"
        },
        "endDate": {
          "type": "string",
          "description": "End date of the campaign.",
          "format": "date-time"
        },
        "discountPercentage": {
          "type": "number",
          "description": "Discount percentage offered during the campaign."
        },
        "description": {
          "type": "string",
          "description": "Description of the marketing campaign."
        }
      },
      "required": [
        "id",
        "shopId",
        "name",
        "startDate",
        "endDate",
        "discountPercentage",
        "description"
      ]
    },
    "GrowthPartnerCampaign": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "GrowthPartnerCampaign",
      "type": "object",
      "description": "Represents a specific promotional campaign linking a Growth Partner to a Manufacturer.",
      "properties": {
        "id": { "type": "string", "description": "Unique ID for the campaign." },
        "name": { "type": "string", "description": "Name of the campaign." },
        "partnerId": { "type": "string", "description": "The UID of the Growth Partner." },
        "manufacturerId": { "type": "string", "description": "The UID of the Manufacturer." },
        "trackingCode": { "type": "string", "description": "Unique code for this partner-manufacturer link." },
        "commissionRate": { "type": "number", "description": "Commission percentage (e.g., 5 for 5%)." },
        "status": { "type": "string", "enum": ["Active", "Paused", "Finished"] }
      },
      "required": ["id", "name", "partnerId", "manufacturerId", "trackingCode", "commissionRate", "status"]
    },
    "AttributedSale": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "AttributedSale",
      "type": "object",
      "description": "Logs a sale attributed to a Growth Partner.",
      "properties": {
        "id": { "type": "string" },
        "orderId": { "type": "string", "description": "The original order ID." },
        "partnerId": { "type": "string", "description": "The UID of the Growth Partner." },
        "campaignId": { "type": "string", "description": "The campaign this sale is attributed to." },
        "saleAmount": { "type": "number" },
        "commissionEarned": { "type": "number" },
        "date": { "type": "string", "format": "date-time" },
        "payoutStatus": { "type": "string", "enum": ["Unpaid", "Paid"] }
      },
      "required": ["id", "orderId", "partnerId", "campaignId", "saleAmount", "commissionEarned", "date", "payoutStatus"]
    },
    "PartnerEarning": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "PartnerEarning",
      "type": "object",
      "description": "Aggregates a Growth Partner's earnings.",
      "properties": {
        "id": { "type": "string" },
        "partnerId": { "type": "string" },
        "totalEarnings": { "type": "number" },
        "paidEarnings": { "type": "number" },
        "unpaidEarnings": { "type": "number" }
      },
      "required": ["id", "partnerId", "totalEarnings", "paidEarnings", "unpaidEarnings"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/manufacturers/{manufacturerId}",
        "definition": {
          "entityName": "Manufacturer",
          "schema": { "$ref": "#/backend/entities/Manufacturer" },
          "description": "Stores manufacturer profiles."
        }
      },
      {
        "path": "/buyers/{buyerId}",
        "definition": {
          "entityName": "Buyer",
          "schema": { "$ref": "#/backend/entities/Buyer" },
          "description": "Stores buyer profiles."
        }
      },
      {
        "path": "/shops/{shopId}",
        "definition": {
          "entityName": "Shop",
          "schema": { "$ref": "#/backend/entities/Shop" },
          "description": "Stores shop profiles."
        }
      },
      {
        "path": "/shops/{shopId}/products/{productId}",
        "definition": {
          "entityName": "Product",
          "schema": { "$ref": "#/backend/entities/Product" },
          "description": "Stores product listings for each shop."
        }
      },
      {
        "path": "/orders/{orderId}",
        "definition": {
          "entityName": "Order",
          "schema": { "$ref": "#/backend/entities/Order" },
          "description": "Stores order details."
        }
      },
      {
        "path": "/orders/{orderId}/orderItems/{orderItemId}",
        "definition": {
          "entityName": "OrderItem",
          "schema": { "$ref": "#/backend/entities/OrderItem" },
          "description": "Stores individual items within an order."
        }
      },
      {
        "path": "/payments/{paymentId}",
        "definition": {
          "entityName": "Payment",
          "schema": { "$ref": "#/backend/entities/Payment" },
          "description": "Stores payment details."
        }
      },
      {
        "path": "/shops/{shopId}/marketingCampaigns/{marketingCampaignId}",
        "definition": {
          "entityName": "MarketingCampaign",
          "schema": { "$ref": "#/backend/entities/MarketingCampaign" },
          "description": "Stores marketing campaigns for each shop."
        }
      },
      {
        "path": "/growthPartnerCampaigns/{campaignId}",
        "definition": {
          "entityName": "GrowthPartnerCampaign",
          "schema": { "$ref": "#/backend/entities/GrowthPartnerCampaign" },
          "description": "Stores campaigns for Growth Partners."
        }
      },
      {
        "path": "/partners/{partnerId}/attributedSales/{saleId}",
        "definition": {
          "entityName": "AttributedSale",
          "schema": { "$ref": "#/backend/entities/AttributedSale" },
          "description": "Logs sales attributed to a specific partner."
        }
      },
      {
        "path": "/partnerEarnings/{partnerId}",
        "definition": {
          "entityName": "PartnerEarning",
          "schema": { "$ref": "#/backend/entities/PartnerEarning" },
          "description": "Aggregates earnings for each Growth Partner."
        }
      }
    ]
  }
}

    